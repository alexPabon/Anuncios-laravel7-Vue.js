(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{139:function(s,t,r){"use strict";r.r(t);var o={data:function(){return{visitors:[],visitorsAuth:[],visitorAuthFlag:"",visitorNoAuthoFlag:"",msnSuccess:"",msnError:"",errorFlag:!1,errorCodig:"",errorMsn:""}},mounted:function(){var s=this;axios.get("/allvisit").then((function(t){console.log("carga correcta de visitantes"),s.visitors=t.data.noAuth,s.visitorNoAuthoFlag=0,s.visitorsAuth=t.data.auth,s.visitorAuthFlag=1})).catch((function(t){console.log("Error al cargar visitantes Inicial"),console.log(t.response),s.msnError="Se produjo un error al actulizar las listas",403!=t.response.status&&401!=t.response.status||(s.errorFlag=!0,s.errorCodig=t.response.status,s.errorMsn=t.response.data.message)}))},methods:{updateList:function(){var s=this;this.msnSuccess="",this.msnError="",axios.get("/visit").then((function(t){console.log("carga correcta de visitantes"),s.msnSuccess=t.data.update,setTimeout((function(){location.reload()}),2e3)})).catch((function(t){console.log("Error al cargar visitantes"),console.log(t.response),403!=t.response.status&&401!=t.response.status||(s.errorFlag=!0,s.errorCodig=t.response.status,s.errorMsn=t.response.data.message)}))}}},a=r(0),e=Object(a.a)(o,(function(){var s=this,t=s.$createElement,r=s._self._c||t;return r("div",{staticClass:"pt-5"},[s.errorFlag?r("errors-component",{attrs:{codig:s.errorCodig,mensaje:s.errorMsn}}):s._e(),s._v(" "),s.errorFlag?s._e():r("div",{staticClass:"container"},[r("div",[r("button",{staticClass:"btn btn-primary col-12 col-md-4 col-gl-2",on:{click:s.updateList}},[s._v("Actualizar Lista")]),s._v(" "),r("small",{staticClass:"alert-success rounded"},[s._v(s._s(s.msnSuccess))]),s._v(" "),r("small",{staticClass:"alert-danger rounded"},[s._v(s._s(s.msnError))])]),s._v(" "),r("h1",[s._v("todas las visitas")]),s._v(" "),r("h5",[s._v("visitante No autenticado")]),s._v(" "),r("visitlist-component",{attrs:{visitors:s.visitors,auth:s.visitorNoAuthoFlag}}),s._v(" "),r("h5",[s._v("visitante autenticado")]),s._v(" "),r("visitlist-component",{attrs:{visitors:s.visitorsAuth,auth:s.visitorAuthFlag}})],1)],1)}),[],!1,null,null,null);t.default=e.exports}}]);